---
id: "overview"
sidebar_position: 1
title: "Overview"
---

import LinkPreview from "@site/src/components/LinkPreview";

# The Sablier APIs

Sablier relies on specific dependencies to source data or manage off-chain flows. All of these are either public or
fully open-source, so feel free to roam around and suggest improvements or optimizations where needed.

We document below:

1. The [solutions](#solutions) we use to index and query data
2. The [product-to-protocol](#products) links between these solutions and the raw entities emitted by the contracts

## Solutions

![Banner Sablier APIs](/banner/docs-banner-apis.webp)

As an alternative to reading data from the contracts or listening to onchain events, we use a set of subgraphs and
indexers. These act as a middleware between the chain and our interfaces and allow for caching, formatting and querying
data. For more advanced features like merkle generation (used in Airdrops) we've written out own SDKs and open sourced
some of them.

:::note Playground

To preview the GraphQL APIs for subgraphs and indexers you can plug them into
[Hasura's](https://cloud.hasura.io/public/graphiql) online explorer.
[Here](https://cloud.hasura.io/public/graphiql?endpoint=https://api.studio.thegraph.com/query/57079/sablier-v2/version/latest)'s
an example setup of a mainnet subgraph for Sablier Lockup inside Hasura's explorer.

:::

## Subgraphs

### The Graph

[The Graph](https://thegraph.com/) has been the vendor of choice in the EVM space for the past few years. We've been
integrating The Graph since 2019 with Sablier V1. For our current apps, we designed a special set of feature-oriented
subgraphs used internally as well as by 3rd party services (e.g. snapshot) and integrators alike.

These subgraphs are hosted on The Graph Network, as well as on the The Graph Hosted Service. They can be used to query
Sablier data from the official [endpoints](/api/lockup/endpoints). Every network has its own subgraph endpoints.

- [Lockup endpoints](/api/lockup/endpoints)
- [Lockup subgraph](https://github.com/sablier-labs/subgraphs/apps/lockup) (Vesting)
- [Flow endpoints](/api/flow/endpoints)
- [Flow subgraph](https://github.com/sablier-labs/subgraphs/apps/flow) (Payments)
- [Airdrops endpoints](/api/airdrops/endpoints)
- [Airdrops subgraph](https://github.com/sablier-labs/subgraphs/apps/merkle) (Airdrops, Airstreams)
- [The Graph docs](https://thegraph.com/docs/en/quick-start/)

<LinkPreview
  href="https://github.com/sablier-labs/subgraphs"
  icon="github"
  subtitle="@sablier/subgraphs"
  title="Sablier Subgraphs on Github"
/>

#### Endpoints / Slugs

Every subgraph deployment will have a `slug` generated by The Graph from its name. You'll find it in the Studio
Development Query URL. We define the following naming convention for subgraphs:

| Subgraph            | Example                             | Product or Concept                                   |
| ------------------- | ----------------------------------- | ---------------------------------------------------- |
| `sablier-v2-*`      | `sablier-v2`, `sablier-v2-optimism` | [Lockup](/concepts/lockup/overview) (Vesting)        |
| `sablier-v2-flow-*` | `sablier-v2-flow-arbitrum`          | [Flow](/concepts/flow/overview) (Payments)           |
| `sablier-v2-ms-*`   | `sablier-v2-ms-base`                | [Airstreams](/concepts/lockup/airstreams) (Airdrops) |
| `sablier-*`         | `sablier-optimism`                  | [V1](/api/legacy-v1) (Legacy)                        |

### Envio

[Envio](https://envio.dev/) offers a suite of fast and flexible tools to access onchain data. Their HyperIndex service
provides for a similar GraphQL driven API to access cached data and serve it into our client interfaces.

We designed a set of indexers that mimic the features and entities exposed by subgraphs and take advantage of the speed
and optimized environment configured through HyperIndex.

All networks share the same indexer endpoint (for one indexer type), as Envio promotes a cross-chain indexing
architecture.

- [Caveats](/api/caveats) between subgraphs and indexers
- [Lockup endpoints](/api/lockup/endpoints)
- [Lockup indexer](https://github.com/sablier-labs/subgraphs/apps/lockup-envio) (Vesting)
- [Flow endpoints](/api/lockup/endpoints)
- [Flow indexer](https://github.com/sablier-labs/subgraphs/apps/flow-envio) (Payments)
- [Airdrops endpoints](/api/airdrops/endpoints)
- [Airdrops indexer](https://github.com/sablier-labs/subgraphs/apps/merkle-envio) (Airdrops, Airstreams)
- [The Graph docs](https://thegraph.com/docs/en/quick-start/)

<LinkPreview
  href="https://github.com/sablier-labs/subgraphs"
  icon="github"
  subtitle="@sablier/subgraphs"
  title="Sablier Indexers on Github"
/>

## Sablier SDKs

### Merkle API

To support our merkle distribution ([Airdrops](/apps/features/airdrops) / Airstreams) system we developed a backend
service called `@sablier/merkle-api`. This API deals with the validation, creation and management of merkle trees, used
to define eligibility and claiming rules for Sablier's Airstream campaigns.

This service is open-source and can be used by integrators as a plug-n-play solution to support (and even deploy)
similar campaigns from their own dashboards. Read more on the dedicated page about the `merkle-api`
[service](/api/airdrops/merkle-api/overview).

- [Endpoints](/api/airdrops/endpoints)

<LinkPreview
  href="https://github.com/sablier-labs/merkle-api"
  icon="github"
  subtitle="@sablier/merkle-api - Rust based service for merkle distributions"
  title="Sablier Merkle API on Github"
/>

## Products

### Lockup

The [vesting](/apps/features/vesting) side of the application will be powered by:

- The `@sablier/subgraphs/apps/lockup` subgraph
- The `@sablier/subgraphs/apps/lockup-envio` indexer

### Airdrops (Airstreams)

The [airdrops](/apps/features/airdrops) side of the application will be powered by:

- The `@sablier/subgraphs/apps/merkle` subgraph
- The `@sablier/subgraphs/apps/merkle-envio` indexer
- The `@sablier/merkle-api` rust service for airdrops

These will work for both Airstreams and Instant Airdrops ðŸ”œ.

### Flow

The [payments](/apps/features/payments) side of the application will be powered by:

- The `@sablier/subgraphs/apps/flow` subgraph
- The `@sablier/subgraphs/apps/flow-envio` indexer
