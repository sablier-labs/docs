---
id: "custom-deployments"
sidebar_position: 10
title: "Custom Deployments"
---

import Link from "@docusaurus/Link";
import { links } from "@site/src/constants";

:::info

Due to budget constraints, we are not able to deploy the Sablier Protocol on every EVM chain. However, we are happy to
consider your project if you fill out this <Link href={links.forms.chains}>form</Link> and meet the requirements below.

:::

## Requirements

- Blockchain explorer
- Documentation site
- Bridge, with step-by-step instructions for how to bridge ETH and ERC-20 tokens to the target chain
- GraphQL solution, e.g., a deployment of [The Graph](https://thegraph.com/)
- Functional JSON-RPC endpoint, ideally listed on [ChainList](https://chainlist.org/)

## Deployment Guide

Following guidelines only apply to you if you have you been granted a
[BUSL license](https://app.ens.domains/lockup-license-grants.sablier.eth?tab=records) to deploy the Sablier Protocol.

### Pre Requisities

- Check if the deployment is not already made on [your chain](/contracts/v2/deployments)
- Follow the [contributing guide](https://github.com/sablier-labs/v2-core/blob/main/CONTRIBUTING.md)
- RPC endpoint, e.g., a paid Infura account
- Enough ETH in your deployer account
- Etherscan API key (for source code verification)

### Steps for deploying Core contracts

#### Step 1: Clone the [v2-core repo](https://github.com/sablier-labs/v2-core) and checkout to the latest release.

```bash
git checkout v1.2.0
```

#### Step 2: Create an `.env` file

```bash
touch .env
```

Add the following variables to `.env` file:

```
EOA="DEPLOYER ADDRESS"
PRIVATE_KEY="PRIVATE KEY OF DEPLOYER ADDRESS"
RPC_URL="RPC ENDPOINT URL"
VERIFIER_URL="EXPLORER VERIFICATION URL"
ETHERSCAN_API_KEY="EXPLORER API KEY"
```

Load the environment variables into shell:

```bash
source .env
```

#### Step 3: Run the following command to deploy all core contracts

:::warning[Important]

You must set the protocol admin to the Sablier-controlled address 0xD427d37B5F6d33f7D42C4125979361E011FFbfD9. Failure to
do so will result in your deployment not being acknowledged as official.

:::

For deterministic deployment:

```bash
FOUNDRY_PROFILE=optimized \
forge script script/DeployDeterministicCore.s.sol \
--sig "run(address)" 0xD427d37B5F6d33f7D42C4125979361E011FFbfD9 \
--rpc-url $RPC_URL \
--broadcast \
--etherscan-api-key $ETHERSCAN_API_KEY \
--verifier-url $VERIFIER_URL \
--verify \
--private-key $PRIVATE_KEY \
-vvv
```

For non-deterministic deployment:

```bash
FOUNDRY_PROFILE=optimized \
forge script script/DeployCore.s.sol \
--sig "run(address)" 0xD427d37B5F6d33f7D42C4125979361E011FFbfD9 \
--rpc-url $RPC_URL \
--broadcast \
--etherscan-api-key $ETHERSCAN_API_KEY \
--verifier-url $VERIFIER_URL \
--verify \
--private-key $PRIVATE_KEY \
-vvv
```

If you are using mnemonic or hardware device for your deployer address, refer to `forge-script` page from
[foundry book](https://book.getfoundry.sh/reference/forge/forge-script#forge-script) for different wallet options.

### Steps for deploying Periphery contracts

#### Step 1: Clone the [v2-periphery](https://github.com/sablier-labs/v2-periphery) and checkout to the latest release.

```bash
git checkout v1.2.0
```

#### Step 2: Create an `.env` file

```bash
touch .env
```

Add the following variables to `.env` file:

```
EOA="DEPLOYER ADDRESS"
PRIVATE_KEY="PRIVATE KEY OF DEPLOYER ADDRESS"
RPC_URL="RPC ENDPOINT URL"
VERIFIER_URL="EXPLORER VERIFICATION URL"
ETHERSCAN_API_KEY="EXPLORER API KEY"
```

Load the environment variables into shell:

```bash
source .env
```

#### Step 3: Run the following command to deploy all periphery contracts

For deterministic deployment:

```bash
FOUNDRY_PROFILE=optimized \
forge script script/DeployDeterministicPeriphery.s.sol \
--sig "run()" \
--rpc-url $RPC_URL \
--broadcast \
--etherscan-api-key $ETHERSCAN_API_KEY \
--verifier-url $VERIFIER_URL \
--verify \
--private-key $PRIVATE_KEY \
-vvv
```

For non-deterministic deployment:

```bash
FOUNDRY_PROFILE=optimized \
forge script script/DeployPeriphery.s.sol \
--sig "run()" \
--rpc-url $RPC_URL \
--broadcast \
--etherscan-api-key $ETHERSCAN_API_KEY \
--verifier-url $VERIFIER_URL \
--verify \
--private-key $PRIVATE_KEY \
-vvv
```

If you are using mnemonic or hardware device for your deployer address, refer to `forge-script` page from
[foundry book](https://book.getfoundry.sh/reference/forge/forge-script#forge-script) for different wallet options.
